<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Checklist Veículos</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f6f8;
  margin: 0;
}

.container {
  max-width: 420px;
  margin: auto;
  padding: 20px;
}

.card {
  background: #fff;
  padding: 20px;
  border-radius: 10px;
}

.hidden { display: none; }

input, select, textarea, button {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
}

button {
  background: #007bff;
  color: #fff;
  border: none;
  cursor: pointer;
}

.header {
  text-align: center;
  margin-bottom: 15px;
}

.header img {
  max-width: 150px;
}

.section {
  margin-top: 20px;
}

.item {
  display: grid;
  grid-template-columns: 1fr 50px 50px 50px;
  align-items: center;
  gap: 5px;
  margin-bottom: 8px;
  font-size: 14px;
}

.head {
  display: grid;
  grid-template-columns: 1fr 50px 50px 50px;
  font-weight: bold;
  text-align: center;
}

.bom { accent-color: #007bff; }
.na { accent-color: #28a745; }
.anormal { accent-color: #dc3545; }

.anormal:checked + span {
  font-weight: bold;
}
</style>
</head>

<body>
<div class="container">

<!-- TELA 1 -->
<div id="tela-login" class="card">
  <h2>Identificação</h2>

  <input id="condutor" placeholder="Condutor">
  <input id="veiculo" placeholder="Veículo">

  <select id="periodo">
    <option value="">Selecione o período</option>
    <option>Manhã</option>
    <option>Tarde</option>
    <option>Noite</option>
  </select>

  <button onclick="iniciarChecklist()">Iniciar Checklist</button>
</div>

<!-- TELA 2 -->
<div id="tela-checklist" class="card hidden">

<div id="area-pdf">

<div class="header">
  <img src="Logo.png">
  <div><b>Vr Service Ltda</b></div>
  <div>CNPJ: 31.590.236/0001-59</div>
  <div>Av. Beira Rio Sul, 1169 - Cuiabá - MT</div>
  <div id="info-data"></div>
  <div id="info-condutor"></div>
  <div id="info-veiculo"></div>
  <div id="info-periodo"></div>
</div>

<h2>Checklist Veículo</h2>

<div class="head">
  <div></div>
  <div>Bom</div>
  <div>N.A</div>
  <div>Anormal</div>
</div>

<div class="section">
  <h3>Motor / Estrutura</h3>

  <div class="item">
    <label>Ausência de vazamentos</label>
    <input class="bom" type="radio" name="m1">
    <input class="na" type="radio" name="m1">
    <input class="anormal" type="radio" name="m1">
  </div>

  <div class="item">
    <label>Estrutura sem trincas</label>
    <input class="bom" type="radio" name="m2">
    <input class="na" type="radio" name="m2">
    <input class="anormal" type="radio" name="m2">
  </div>
</div>

<div class="section">
  <h3>Observações</h3>
  <textarea id="observacoes" rows="4"></textarea>
</div>

<div class="section">
  <h3>Assinatura</h3>
  <div style="border-bottom:1px solid #000; height:40px;"></div>
</div>

</div>

<button onclick="salvarChecklist()">Salvar PDF</button>

</div>
</div>

<script>
function iniciarChecklist() {
  const condutor = document.getElementById("condutor").value.trim();
  const veiculo = document.getElementById("veiculo").value.trim();
  const periodo = document.getElementById("periodo").value;

  if (!condutor || !veiculo || !periodo) {
    alert("Preencha todos os campos");
    return;
  }

  document.getElementById("tela-login").classList.add("hidden");
  document.getElementById("tela-checklist").classList.remove("hidden");

  document.getElementById("info-data").innerText =
    "Data/Hora: " + new Date().toLocaleString();
  document.getElementById("info-condutor").innerText =
    "Condutor: " + condutor;
  document.getElementById("info-veiculo").innerText =
    "Veículo: " + veiculo;
  document.getElementById("info-periodo").innerText =
    "Período: " + periodo;
}

function salvarChecklist() {
  html2pdf().from(document.getElementById("area-pdf")).save();
}
</script>

</body>
</html>
