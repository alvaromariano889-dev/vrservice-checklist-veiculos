<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF
<title>Checklist Di치rio de Ve칤culos</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- PDF A4 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f4f4;
  padding: 10px;
}

.container {
  max-width: 900px;
  margin: auto;
  background: #fff;
  padding: 20px;
  border-radius: 6px;
}

.logo, h2, .datetime {
  text-align: center;
}

label {
  font-weight: bold;
  display: block;
  margin-top: 8px;
}

input, select, textarea {
  width: 100%;
  padding: 8px;
  box-sizing: border-box;
  border: 1px solid #ccc;
  border-radius: 4px;
}

button {
  margin-top: 15px;
  padding: 12px 24px;
  font-size: 16px;
  cursor: pointer;
  border: none;
  border-radius: 6px;
  background: #0a7cff;
  color: white;
}

button:hover:not(:disabled) {
  background: #0962d8;
}

button:disabled {
  background: #ccc;
  cursor: not-allowed;
}

/* telas */
.tela {
  display: none;
}
.tela.ativa {
  display: block;
}

/* sele칞칚o */
.grid {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  margin-top: 20px;
}
.grid > div {
  flex: 1 1 280px;
  min-width: 250px;
}

/* resumo */
.resumo {
  background: #f8f9fa;
  padding: 15px;
  border-radius: 6px;
  margin: 15px 0;
}
.resumo p {
  margin: 5px 0;
  font-size: 16px;
}

/* tabela */
.table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
}
.table th, .table td {
  border: 1px solid #333;
  padding: 10px 8px;
  text-align: center;
  font-size: 14px;
}
.table th {
  background: #e9ecef;
  font-weight: bold;
}
.table th:first-child, .table td:first-child {
  text-align: left;
  width: 40%;
}

.bom { background: #c8f7c5 !important; }
.anormal { background: #f7c5c5 !important; }
.na { background: #c5d9f7 !important; }

.obs-box {
  margin: 20px 0;
}

#kmHorimetro {
  width: 200px !important;
  display: inline-block;
}

/* PDF otimizado */
@media print {
  body { background: white; }
  .container { max-width: none; padding: 10mm; }
  .tela:not(.ativa), button { display: none !important; }
}
</style>
</head>

<body>

<div class="container">
  <div class="logo"><strong>LOGO DA EMPRESA</strong></div>
  <h2>Checklist Di치rio de Inspe칞칚o</h2>
  <div class="datetime" id="datetime"></div>
</div>

<!-- TELA 1: SELE칂츾O -->
<div class="container tela ativa" id="tela-selecao">
  <h3>游늶 Dados iniciais</h3>

  <div class="grid">
    <div>
      <label>Motorista / Operador</label>
      <select id="motorista">
        <option value="">Digite ou selecione</option>
      </select>
    </div>

    <div>
      <label>Ve칤culo / Placa ou Patrim칪nio</label>
      <select id="veiculo">
        <option value="">Digite ou selecione</option>
      </select>
    </div>

    <div>
      <label>Tipo de Ve칤culo</label>
      <select id="tipo">
        <option value="">Selecione</option>
        <option value="empilhadeira">Empilhadeira</option>
        <option value="carro">Carro</option>
        <option value="bau">Caminh칚o Ba칰</option>
        <option value="f400">Caminh칚o Aberto (F400)</option>
      </select>
    </div>
  </div>

  <button onclick="irParaChecklist()">俱뫮잺 Continuar para checklist</button>
</div>

<!-- TELA 2: CHECKLIST -->
<div class="container tela" id="tela-checklist">
  <div class="resumo">
    <p><strong>Motorista:</strong> <span id="resumoMotorista"></span></p>
    <p><strong>Ve칤culo:</strong> <span id="resumoVeiculo"></span></p>
    <p><strong>Tipo:</strong> <span id="resumoTipo"></span></p>
    <p><strong>KM ou Hor칤metro:</strong> <input type="number" id="kmHorimetro" min="0"></p>
  </div>

  <table class="table" id="tabela">
    <thead>
      <tr>
        <th>ITEM</th>
        <th>BOM</th>
        <th>ANORMAL</th>
        <th>N.A.</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <div class="obs-box">
    <label>Observa칞칫es (obrigat칩rio se houver item ANORMAL)</label>
    <textarea id="obs" rows="3" placeholder="Descreva qualquer irregularidade encontrada..."></textarea>
  </div>

  <button onclick="voltarSelecao()">拘勇 Voltar</button>
  <button id="salvar" onclick="salvarChecklist()" disabled>游 Salvar Checklist</button>
  <button id="pdfBtn" onclick="gerarPDF()">游늯 Gerar PDF</button>
</div>

<script>
// modelos de checklist (sem KM/Hor칤metro na tabela)
const modelos = {
  empilhadeira: [
    "Pneus e Rodas (calibragem)",
    "Garfos (patins) e mastro",
    "Vazamentos",
    "N칤vel de 칩leo do motor",
    "N칤vel de 칩leo hidr치ulico",
    "Freios",
    "Buzina / sinaliza칞칚o"
  ],
  carro: [
    "Luzes",
    "Vazamentos",
    "Espelhos e vidros",
    "
